---
layout: post
title: MacOSç¯å¢ƒæ­å»º
author: Bill
header-img: img/bill/header-posts/2022-04-03-header.jpg
catalog: false
stickie: false
life: false
tags: 
- catalog
- mac
- #summary=â€œè®°å½•Macé…ç½®â€
guitartab: false
---



ç”±äºéœ€è¦æ›´æ¢äº†MacBook Airçš„SSD(256G), æ¢ä¸Šäº†2Tçš„SSDï¼Œç°åœ¨è®°å½•ä¸‹å¿…è¦çš„ç¯å¢ƒå®‰è£…å’Œè®¾ç½®ï¼Œä¸‡ä¸€ä»¥åè¿˜æ¢è‹¹æœç”µè„‘å‘¢ï¼ŸğŸ˜‚ğŸ˜‚ğŸ˜‚

# 1. HomeBrew

ç›´æ¥ä½¿ç”¨å®˜ç½‘æ˜ä»¤å®‰è£…ï¼Œæç¤ºå¦‚ä¸‹ï¼š

```shell
bill@192 ~ % /bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"

curl: (7) Failed to connect to raw.githubusercontent.com port 443 after 23 ms: Connection refused
```

æŸ¥çœ‹ç½‘ä¸Šè§£å†³åŠæ³•ï¼Œå¯ä»¥è®¾ç½®ç«¯å£å·å’Œæœ¬åœ°çš„ç§‘å­¦ä¸Šç½‘ç«¯å·å¯¹åº”ï¼š

```shell
export https_proxy=http://127.0.0.1:8001 http_proxy=http://127.0.0.1:8001 all_proxy=socks5://127.0.0.1:1080
```

å†æ¬¡ä¸‹è½½å°±æ²¡æœ‰é—®é¢˜äº†

```shell
==> Checking for `sudo` access (which may request your password)...
Password:
==> This script will install:
/usr/local/bin/brew
/usr/local/share/doc/homebrew
/usr/local/share/man/man1/brew.1
/usr/local/share/zsh/site-functions/_brew
/usr/local/etc/bash_completion.d/brew
/usr/local/Homebrew
==> The following new directories will be created:
/usr/local/include
/usr/local/sbin
/usr/local/opt
/usr/local/var/homebrew/linked
/usr/local/Cellar
/usr/local/Caskroom
/usr/local/Frameworks

Press RETURN/ENTER to continue or any other key to abort:
==> /usr/bin/sudo /bin/mkdir -p /usr/local/include /usr/local/sbin /usr/local/opt /usr/local/var/homebrew/linked /usr/local/Cellar /usr/local/Caskroom /usr/local/Frameworks
==> /usr/bin/sudo /bin/chmod ug=rwx /usr/local/include /usr/local/sbin /usr/local/opt /usr/local/var/homebrew/linked /usr/local/Cellar /usr/local/Caskroom /usr/local/Frameworks
==> /usr/bin/sudo /usr/sbin/chown bill /usr/local/include /usr/local/sbin /usr/local/opt /usr/local/var/homebrew/linked /usr/local/Cellar /usr/local/Caskroom /usr/local/Frameworks
==> /usr/bin/sudo /usr/bin/chgrp admin /usr/local/include /usr/local/sbin /usr/local/opt /usr/local/var/homebrew/linked /usr/local/Cellar /usr/local/Caskroom /usr/local/Frameworks
==> /usr/bin/sudo /usr/sbin/chown -R bill:admin /usr/local/Homebrew
==> /usr/bin/sudo /bin/mkdir -p /Users/bill/Library/Caches/Homebrew
==> /usr/bin/sudo /bin/chmod g+rwx /Users/bill/Library/Caches/Homebrew
==> /usr/bin/sudo /usr/sbin/chown -R bill /Users/bill/Library/Caches/Homebrew
==> Downloading and installing Homebrew...
Updating files: 100% (2760/2760), done.
HEAD is now at 33709297c Merge pull request #13078 from Homebrew/dependabot/bundler/Library/Homebrew/rspec-mocks-3.11.1
fatal: Could not resolve HEAD to a revision
==> Installation successful!

==> Homebrew has enabled anonymous aggregate formulae and cask analytics.
Read the analytics documentation (and how to opt-out) here:
  https://docs.brew.sh/Analytics
No analytics data has been sent yet (nor will any be during this install run).

==> Homebrew is run entirely by unpaid volunteers. Please consider donating:
  https://github.com/Homebrew/brew#donations

==> Next steps:
- Run brew help to get started
- Further documentation:
    https://docs.brew.sh
```

# 2. Git

## 2.1 Gitå®‰è£…

ä½¿ç”¨brew search gitæ— æ³•æ‰¾åˆ°å¯¹åº”çš„åŒ…ï¼š

```shell
==> Casks
adobe-digital-editions   gitahead                 giteye                   github                   gitnote                  gitup                    plotdigitizer            subgit
deepgit                  gitblade                 gitfiend                 githubpulse              gitpigeon                gitx                     rowanj-gitx              webplotdigitizer
digital                  gitdock                  gitfinder                gitify                   gitscout                 lego-digital-designer    smartgit
git-it                   gitee                    gitfox                   gitkraken                gitter                   logitech-presentation    snagit
```

ç›´æ¥å®‰è£…gitä¹Ÿæç¤ºæ— æ³•å®‰è£…ï¼š

```shell
brew install git
Warning: No available formula with the name "git".
==> Searching for similarly named formulae...
Error: No similarly named formulae found.
==> Searching for a previously deleted formula (in the last month)...
Error: No previously deleted formula found.
==> Searching taps on GitHub...
Error: No formulae found in taps.
```

æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤åå¯æ­£å¸¸ä¸‹è½½ï¼š

```shell
bill@192 ~ % rm -rf /usr/local/Homebrew/Library/Taps/homebrew/homebrew-core
bill@192 ~ % brew update
```

## 2.2 git alias

ä¿®æ”¹~/.gitconfig

```shell
[alias]
  co = checkout
  cob = checkout -b
  coo = !git fetch && git checkout
  br = branch
  brd = branch -d
  st = status
  aa = add -A .
  unstage = reset --soft HEAD^
  cm = commit -m
  ci = commit
  amend = commit --amend -m
  fix = commit --fixup
  undo = reset HEAD~1
  rv = revert
  cp = cherry-pick
  pu = !git push origin `git branch --show-current`
  fush = push -f
  mg = merge --no-ff
  rb = rebase
  rbc = rebase --continue
  rba = rebase --abort
  rbs = rebase --skip
  rom = !git fetch && git rebase -i origin/master --autosquash
  save = stash push
  pop = stash pop
  apply = stash apply
  rl = reflog
```

## 2.3 .gitignore

`.DS_Store`æ˜¯MacOsçš„é…ç½®éšè—æ–‡ä»¶ï¼Œé…ç½®.gitignoreå¿½ç•¥è¯¥æ–‡ä»¶

```shell
.DS_Store
```

# 3. zsh

å¿½ç•¥å¤§å°å†™, åœ¨.zshrcé…ç½®ï¼š

```shell
autoload -Uz compinit && compinit
zstyle ':completion:*' matcher-list 'm:{[:lower:][:upper:]}={[:upper:][:lower:]}' 'm:{[:lower:][:upper:]}={[:upper:][:lower:]} l:|=* r:|=*' 'm:{[:lower:][:upper:]}={[:upper:][:lower:]} l:|=* r:|=*' 'm:{[:lower:][:upper:]}={[:upper:][:lower:]} l:|=* r:|=*'
```

è®¾ç½®ç»ˆç«¯PROMPTï¼š

```
export PROMPT='%n@MacBook %B%~%b $ '
```

æ•ˆæœå›¾å¦‚ä¸‹ï¼š

![zsh_prompt](/img/bill/in-posts//627741aeab64412e3e065f1a.png)

å…·ä½“çš„ZSHçš„PROMPTé…ç½®å¦‚ä¸‹ï¼Œæˆ–å‚è€ƒç½‘å€[https://www.tweaking4all.com/software/macosx-software/customize-zsh-prompt/](https://www.tweaking4all.com/software/macosx-software/customize-zsh-prompt/)

![](/img/bill/in-posts//62774210ab64412e3e065f1b.png)

# 4. Bash

æœ‰æ—¶å€™ç¼–è¯‘æ—¶ï¼Œéœ€è¦åˆ‡æ¢å›bashæ¥æ“ä½œï¼Œæ­¤æ—¶å¯ä»¥é€šè¿‡$SHELLå‘½ä»¤æ¥çœ‹å½“å‰çš„shellã€‚å¯ä»¥é€šè¿‡å¦‚ä¸‹å‘½ä»¤è¿›è¡Œbashå’Œzshçš„åˆ‡æ¢ï¼š

```
# åˆ‡æ¢è‡³bash
chsh -s /bin/bash
# åˆ‡æ¢è‡³zsh
chsh -s /bin/zsh
```

bashçš„prompté…ç½®å¯ä»¥å¦‚ä¸‹ï¼Œæ•ˆæœå’Œzshç±»ä¼¼ï¼š

```
export PS1="\u@MacBook\w $ "
```

å…·ä½“é…ç½®å¯å‚è€ƒï¼š

```
\d â€“ Current date
\t â€“ Current time
\h â€“ Host name
\# â€“ Command number
\u â€“ User name
\W â€“ Current working directory (ie: Desktop/)
\w â€“ Current working directory with full path (ie: /Users/Admin/Desktop/)
```



# 5. Alfred

[Alfred](https://zhuanlan.zhihu.com/p/222536931)

å¢åŠ å‡ ä¸ªå¸¸ç”¨çš„æœç´¢å¼•æ“

```shell
https://www.zhihu.com/search?q={query}
https://s.weibo.com/weibo?q={query}
https://search.bilibili.com/all?keyword={query}
http://www.baidu.com/s?ie=UTF-8&wd={query}
```

![alfred-hokey](/img/bill/in-posts//62774d49ab64412e450549d6.png)


# 6. æœç´¢å·¥å…·

## 6.1 ripgrep

```shell
brew install ripgrep
```

# 7. ç¼–ç¨‹ç¯å¢ƒ

## 7.1 GOå®‰è£…

```shell
brew install go
```

## 7.2 Pythonå®‰è£…

```shell
brew install python
```

é…ç½®Python3çš„.zshrcç¯å¢ƒå˜é‡ï¼š

```shell
PYTHON_HOME="/usr/local/Cellar/python@3.9/3.9.12/bin/"
export PATH="${PATH}:${PYTHON_HOME}"
alias python="${PYTHON_HOME}/python3"
alias pip="${PYTHON_HOME}/pip3"
```

# 8. å¿«æ·é”®è®¾ç½®

## 8.1 å¿«é€Ÿå›åˆ°æ¡Œé¢

å·¦ä¸Šè§’ç‚¹å‡»ğŸ->ç³»ç»Ÿåå¥½->è°ƒåº¦ä¸­å¿ƒ->è§¦å‘è§’

![desktop-hotkey](/img/bill/in-posts//62774d88ab64412e3e065f4f.png)

## 8.2 å¿«é€Ÿæˆªå±

```shell
command + shift + 5
```

# 9. ITERMé…ç½®

å…ˆä¸‹è½½ITerm2ï¼Œç½‘å€æ˜¯[https://iterm2.com/](https://iterm2.com/)ã€‚ç„¶åä¸‹è½½ä¸»é¢˜é…ç½®ï¼Œå¦‚ä¸‹ï¼š

```shell
git clone https://github.com/mbadolato/iTerm2-Color-Schemes
```

ä¸»é¢˜é…ç½®å¦‚ä¸‹ï¼š

```shell
Via iTerm preferences (go to the same configuration location as above):

Launch iTerm 2. Get the latest version at iterm2.com
Click on iTerm2 menu title
Select Preferences... option
Select Profiles
Navigate to Colors tab
Click on Color Presets
Click on Import
Select the .itermcolors file(s) of the schemes you'd like to use * Click on Color Presets and choose a color scheme
```
